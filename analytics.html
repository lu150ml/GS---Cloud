<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explorador de Dados | Análises</title>
    <link rel="stylesheet" href="assets/css/styles.css" />
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
  </head>
  <body>
    <header>
      <div class="brand">
        <div class="brand-icon">DX</div>
        <div>
          <div>Explorador de Dados</div>
          <small>Visualização de CSV e análises rápidas</small>
        </div>
      </div>
      <nav>
        <a href="index.html">Início</a>
        <a href="analytics.html">Análises</a>
      </nav>
    </header>

    <main>
      <section class="hero">
        <div>
          <span class="pill">Entenda seus dados</span>
          <h1>Perfil instantâneo e destaques visuais.</h1>
          <p>
            Reutilizamos o conjunto de dados que você abriu na página inicial. Você também pode
            escolher um novo arquivo ou recarregar o exemplo para atualizar esses insights.
          </p>
        </div>
        <div class="note">
          <strong>O que você recebe:</strong>
          <ul>
            <li>Estatísticas por coluna para campos numéricos.</li>
            <li>Principais categorias para campos de texto.</li>
            <li>Um gráfico rápido da coluna mais informativa.</li>
          </ul>
        </div>
      </section>

      <section class="controls">
        <div class="card">
          <h2>Carregar ou atualizar dados</h2>
          <div class="button-row">
            <label class="file-label" for="file-input">Escolher CSV</label>
            <input id="file-input" type="file" accept=".csv,text/csv" />
            <button id="sample-btn" class="secondary">Usar conjunto de exemplo</button>
          </div>
          <p class="note">
            Se nada estiver carregado, exibimos automaticamente o conjunto de exemplo para você
            ver o fluxo de análises.
          </p>
        </div>
      </section>

      <section class="card">
        <h2>Visão geral do conjunto</h2>
        <div class="stats-grid" id="stats"></div>
        <div id="meta" class="note" style="display: none;"></div>
      </section>

      <section class="controls">
        <div class="card">
          <h2>Colunas numéricas</h2>
          <div id="numeric-stats" class="note">Carregue dados para ver mínimos, máximos e médias.</div>
        </div>
        <div class="card">
          <h2>Destaques de categorias</h2>
          <div id="category-stats" class="note">Listaremos os valores mais frequentes para colunas de texto.</div>
        </div>
      </section>

      <section class="card">
        <h2>Visão rápida</h2>
        <div class="chart">
          <canvas id="chart" width="900" height="300" aria-label="Gráfico de barras"></canvas>
        </div>
        <p class="note" id="chart-note">Aguardando dados para desenhar o gráfico.</p>
      </section>

      <section class="card">
        <h2>Gráficos em Python</h2>
        <p class="note">
          Escolha a coluna e o tipo de gráfico para gerar visualizações em Python com linha,
          colunas ou pizza.
        </p>
        <div class="python-controls">
          <label for="chart-column">Coluna</label>
          <select id="chart-column"></select>
          <label for="chart-type">Tipo de gráfico</label>
          <select id="chart-type">
            <option value="linha">Linha</option>
            <option value="colunas">Colunas</option>
            <option value="pizza">Pizza</option>
          </select>
          <button id="render-python-chart">Gerar gráfico</button>
        </div>
        <div id="python-chart-status" class="note">Carregue dados para habilitar os gráficos.</div>
        <div class="chart">
          <img
            id="python-chart-image"
            alt="Gráfico gerado em Python"
            style="display: none; max-width: 100%; height: auto;"
          />
        </div>
      </section>
    </main>

    <footer>Análises criadas com ciano, azul, verde e legibilidade.</footer>

    <script src="assets/js/common.js"></script>
    <script src="assets/js/analytics.js"></script>
  </body>
</html>
